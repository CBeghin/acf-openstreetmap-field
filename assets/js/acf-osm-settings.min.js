!function(t,o){var s=o.options,r=o.providers,l=!1,c=!1;function d(){return t(".leaflet-container:first").data("acf-osm-map")}function i(o){var t,i,n,e,a=d();if(i=s.layer_config[o.split(".")[0]]||{options:{}},(t=L.tileLayer.provider(o,i.options)).provider_key=o,n=o.split("."),(e=r[n.shift()]).isOverlay||(n.length&&(e=e.variants[n.shift()]),e.isOverlay)){if(c&&(c.remove(),c.provider_key===o))return void(c=!1);(c=t).addTo(a)}else l&&(a.eachLayer(function(o){o.remove()}),c=!1),(l=t).addTo(a),c&&(c.remove(),c.addTo(a))}L.Control.ResetLayers=L.Control.extend({onAdd:function(){return this._container=L.DomUtil.create("div","leaflet-control-add-location-marker leaflet-bar leaflet-control"),this._link=L.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",this._container),this._icon=L.DomUtil.create("span","dashicons dashicons-image-rotate",this._link),L.DomEvent.on(this._link,"click",L.DomEvent.stopPropagation).on(this._link,"click",L.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",L.DomEvent.stopPropagation),this._container},onRemove:function(){L.DomEvent.off(this._link,"click",L.DomEvent.stopPropagation).off(this._link,"click",L.DomEvent.preventDefault).off(this._link,"click",this._onClick,this).off(this._link,"dblclick",L.DomEvent.stopPropagation)},_onClick:function(){this._map.eachLayer(function(o){o.remove()})}}),t(document).on("ready",function(){var a=d();a.on("layeradd",function(o){var t,i,n=o.layer;if(a.hasLayer(n)){if(n.options.bounds){var e=L.latLngBounds(n.options.bounds);a.fitBounds(e,{paddingTopLeft:[0,0],paddingBottomRight:[0,0]})}(t=a.getZoom())!==(i=Math.max(n.options.minZoom,Math.min(t,n.options.maxZoom)))&&a.setZoom(i)}}),new L.Control.ResetLayers({position:"topright"}).addTo(a)}).on("click",".acf-osm-settings [data-layer]",function(o){o.preventDefault(),i(t(this).data("layer"))}).on("change",'.osm-disable[type="checkbox"]',function(o){t(this).closest(".acf-osm-setting").toggleClass("disabled",t(this).prop("checked"))})}(jQuery,acf_osm,window);