!function(t,o){var e=o.options,a=o.providers,r=!1,s=!1;function l(){return t(".leaflet-container:first").data("acf-osm-map")}function i(o){var t,i,n=l();if(i=e.layer_config[o.split(".")[0]]||{options:{}},function(o){var t=o.split("."),i=a[t.shift()];return!!i.isOverlay||(t.length&&(i=i.variants[t.shift()]),!!i.isOverlay)}((t=L.tileLayer.provider(o,i.options)).provider_key=o)){if(s&&(s.remove(),s.provider_key===o))return void(s=!1);(s=t).addTo(n)}else r&&(n.eachLayer(function(o){o.remove()}),s=!1),(r=t).addTo(n),s&&(s.remove(),s.addTo(n))}L.Control.ResetLayers=L.Control.extend({onAdd:function(){return this._container=L.DomUtil.create("div","leaflet-control-add-location-marker leaflet-bar leaflet-control"),this._link=L.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",this._container),this._icon=L.DomUtil.create("span","dashicons dashicons-image-rotate",this._link),L.DomEvent.on(this._link,"click",L.DomEvent.stopPropagation).on(this._link,"click",L.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",L.DomEvent.stopPropagation),this._container},onRemove:function(){L.DomEvent.off(this._link,"click",L.DomEvent.stopPropagation).off(this._link,"click",L.DomEvent.preventDefault).off(this._link,"click",this._onClick,this).off(this._link,"dblclick",L.DomEvent.stopPropagation)},_onClick:function(){this._map.eachLayer(function(o){o.remove()})}}),t(document).on("ready",function(){var n=l();n.on("layeradd",function(o){var t=o.layer;if(n.hasLayer(t)){if(t.options.bounds){var i=L.latLngBounds(t.options.bounds);n.fitBounds(i,{paddingTopLeft:[0,0],paddingBottomRight:[0,0]})}1<t.options.minZoom&&n.getZoom()>t.options.minZoom&&n.setZoom(t.options.minZoom)}}),new L.Control.ResetLayers({position:"topright"}).addTo(n)}).on("click",".acf-osm-settings [data-layer]",function(o){o.preventDefault(),i(t(this).data("layer"))})}(jQuery,acf_osm,window);